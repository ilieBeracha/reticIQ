[ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 1; @symbol_usingdef<0> = [Toybox,1,6,12]; @symbol_usingdef<1> = [Application,1,13,24]; ]
using Toybox.Application;
[ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 2; @symbol_usingdef<0> = [Toybox,2,6,12]; @symbol_usingdef<1> = [WatchUi,2,13,20]; @symbol_usingAlias = [Ui,2,24,26]; ]
using Toybox.WatchUi as :Ui;
[ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 3; @symbol_usingdef<0> = [Toybox,3,6,12]; @symbol_usingdef<1> = [Timer,3,13,18]; ]
using Toybox.Timer;
[ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 4; @symbol_usingdef<0> = [Toybox,4,6,12]; @symbol_usingdef<1> = [Communications,4,13,27]; @symbol_usingAlias = [Comms,4,31,36]; ]
using Toybox.Communications as :Comms;
[ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 7; @symbol_classdef = [CommsApp,7,6,14]; @symbol_extends<0> = [Application,7,23,34]; @symbol_extends<1> = [AppBase,7,35,42]; ]
class CommsApp extends Application.AppBase {
    [ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 7; ]
    <init> {
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 9 15 ]
        symbol [ Comms %tmp.3 9 29 34 ];
        %tmp.3 = getm $.Toybox.Communications;
        symbol [ PhoneAppMessage %tmp.4 9 35 50 ];
        %tmp.4 = getv function ? %tmp.3 :PhoneAppMessage;
        %tmp.1 = newc %tmp.4 ();
        putv self :message %tmp.1;
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 10 15 ]
        symbol [ Ui %tmp.7 10 33 35 ];
        %tmp.7 = getm $.Toybox.WatchUi;
        symbol [ ProgressBar %tmp.8 10 36 47 ];
        %tmp.8 = getv function ? %tmp.7 :ProgressBar;
        %tmp.9 = "Ready.";
        %tmp.10 = null;
        %tmp.5 = newc %tmp.8 (%tmp.9, %tmp.10);
        putv self :progressBar %tmp.5;
    }
    [ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 7; ]
    static
    <init> {
    }
    [ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 8; @position = 15; @symbol_vardef = [timer,8,15,20]; ]
    protected
    var timer;
    [ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 9; @position = 15; @symbol_vardef = [message,9,15,22]; ]
    protected
    var message;
    [ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 10; @position = 15; @symbol_vardef = [progressBar,10,15,26]; ]
    protected
    var progressBar;
    [ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 12; @symbol_functiondef = [initialize,12,13,23]; ]
    function initialize() as Void {
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_12_26_14_4_start:
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 13 8 ]
        symbol [ AppBase %tmp.2 13 8 15 ];
        %tmp.2 = getv ? :AppBase;
        symbol [ initialize %tmp.3 13 16 26 ];
        %tmp.3 = getv function %tmp.2 :initialize;
        invoke %tmp.2 %tmp.3();
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_12_26_14_4_stop:
    }
    [ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 16; @symbol_functiondef = [onStart,16,13,20]; @symbol_param<0> = [state,16,21,26]; ]
    function onStart(state) {
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_16_28_22_4_start:
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 17 8 ]
        symbol [ Timer %tmp.3 17 20 25 ];
        %tmp.3 = getm $.Toybox.Timer;
        symbol [ Timer %tmp.4 17 26 31 ];
        %tmp.4 = getv function ? %tmp.3 :Timer;
        %tmp.1 = newc %tmp.4 ();
        symbol [ timer ? 17 8 13 ];
        putv self :timer %tmp.1;
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 18 2 ]
        symbol [ timer %tmp.6 18 2 7 ];
        %tmp.6 = getv ? :timer;
        symbol [ start %tmp.7 18 8 13 ];
        %tmp.7 = getv function %tmp.6 :start;
        %tmp.8 = self;
        symbol [ method %tmp.9 18 14 20 ];
        %tmp.9 = getv function %tmp.8 :method;
        %tmp.11 = const :updateMessage;
        symbol [ updateMessage %tmp.11 18 22 35 const ];
        %tmp.12 = invoke %tmp.8 %tmp.9(%tmp.11);
        %tmp.13 = 10000;
        %tmp.14 = true;
        invoke %tmp.6 %tmp.7(%tmp.12, %tmp.13, %tmp.14);
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 19 2 ]
        %tmp.15 = self;
        symbol [ updateMessage %tmp.16 19 2 15 ];
        %tmp.16 = getv function %tmp.15 :updateMessage;
        invoke %tmp.15 %tmp.16();
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 21 8 ]
        symbol [ Comms %tmp.17 21 8 13 ];
        %tmp.17 = getm $.Toybox.Communications;
        symbol [ registerForPhoneAppMessages %tmp.18 21 14 41 ];
        %tmp.18 = getv function %tmp.17 :registerForPhoneAppMessages;
        %tmp.19 = self;
        symbol [ method %tmp.20 21 42 48 ];
        %tmp.20 = getv function %tmp.19 :method;
        %tmp.22 = const :phoneMessageCallback;
        symbol [ phoneMessageCallback %tmp.22 21 50 70 const ];
        %tmp.23 = invoke %tmp.19 %tmp.20(%tmp.22);
        invoke %tmp.17 %tmp.18(%tmp.23);
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_16_28_22_4_stop:
    }
    [ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 24; @symbol_functiondef = [phoneMessageCallback,24,13,33]; @symbol_param<0> = [_message,24,34,42]; @symbol_param<0>_type<0> = [$,24,46,47]; @symbol_param<0>_type<1> = [Toybox,24,48,54]; @symbol_param<0>_type<2> = [Communications,24,55,69]; @symbol_param<0>_type<3> = [PhoneAppMessage,24,70,85]; ]
    function phoneMessageCallback(_message as $.Toybox.Communications.PhoneAppMessage) as Void {
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_24_95_29_4_start:
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 25 8 ]
        symbol [ System %tmp.2 25 8 14 ];
        %tmp.2 = getv ? :System;
        symbol [ println %tmp.3 25 15 22 ];
        %tmp.3 = getv function %tmp.2 :println;
        %tmp.4 = "Message received. Contents:";
        invoke %tmp.2 %tmp.3(%tmp.4);
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 26 8 ]
        %tmp.5 = lgetv %_message;
        symbol [ _message %tmp.5 26 18 26 ];
        symbol [ data %tmp.6 26 27 31 ];
        %tmp.6 = getv %tmp.5 :data;
        symbol [ message ? 26 8 15 ];
        putv self :message %tmp.6;
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 27 8 ]
        symbol [ System %tmp.8 27 8 14 ];
        %tmp.8 = getv ? :System;
        symbol [ println %tmp.9 27 15 22 ];
        %tmp.9 = getv function %tmp.8 :println;
        symbol [ message %tmp.11 27 23 30 ];
        %tmp.11 = getv ? :message;
        invoke %tmp.8 %tmp.9(%tmp.11);
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 28 8 ]
        symbol [ progressBar %tmp.13 28 8 19 ];
        %tmp.13 = getv ? :progressBar;
        symbol [ setDisplayString %tmp.14 28 20 36 ];
        %tmp.14 = getv function %tmp.13 :setDisplayString;
        symbol [ message %tmp.16 28 37 44 ];
        %tmp.16 = getv ? :message;
        invoke %tmp.13 %tmp.14(%tmp.16);
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_24_95_29_4_stop:
    }
    [ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 31; @symbol_functiondef = [onStop,31,13,19]; @symbol_param<0> = [state,31,20,25]; ]
    function onStop(state) {
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_31_27_33_4_start:
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 32 5 ]
        symbol [ timer %tmp.2 32 5 10 ];
        %tmp.2 = getv ? :timer;
        symbol [ stop %tmp.3 32 11 15 ];
        %tmp.3 = getv function %tmp.2 :stop;
        invoke %tmp.2 %tmp.3();
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_31_27_33_4_stop:
    }
    [ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 35; @symbol_functiondef = [getInitialView,35,13,27]; ]
    function getInitialView() {
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_35_30_37_4_start:
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 36 8 ]
        %tmp.1 = newa 1;
        symbol [ progressBar %tmp.3 36 16 27 ];
        %tmp.3 = getv ? :progressBar;
        %tmp.4 = dup %tmp.1;
        %tmp.5 = aputv %tmp.4 0 %tmp.3;
        ret %tmp.5;
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_35_30_37_4_stop:
    }
    [ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 39; @symbol_functiondef = [updateMessage,39,13,26]; ]
    function updateMessage() as Void {
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_39_37_75_4_start:
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 40 8 ]
        symbol [ System %tmp.2 40 8 14 ];
        %tmp.2 = getv ? :System;
        symbol [ println %tmp.3 40 15 22 ];
        %tmp.3 = getv function %tmp.2 :println;
        %tmp.4 = "Updating message.";
        invoke %tmp.2 %tmp.3(%tmp.4);
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 42 8 ]
        symbol [ progressBar %tmp.6 42 8 19 ];
        %tmp.6 = getv ? :progressBar;
        symbol [ setDisplayString %tmp.7 42 20 36 ];
        %tmp.7 = getv function %tmp.6 :setDisplayString;
        %tmp.8 = "Sending..";
        invoke %tmp.6 %tmp.7(%tmp.8);
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 62 8 ]
        [ "_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_39_37_75_4_start" "_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_39_37_75_4_stop" ]
        %message.1 = local;
        symbol [ message %message.1 62 12 19 ];
        %tmp.9 = newd 3;
        %tmp.10 = "latitude";
        %tmp.11 = 49.233162;
        %tmp.12 = dup %tmp.9;
        %tmp.13 = aputv %tmp.12 %tmp.10 %tmp.11;
        %tmp.14 = "longitude";
        %tmp.15 = 16.572311;
        %tmp.16 = dup %tmp.13;
        %tmp.17 = aputv %tmp.16 %tmp.14 %tmp.15;
        %tmp.18 = "message";
        %tmp.19 = "Nope.avi";
        %tmp.20 = dup %tmp.17;
        %tmp.21 = aputv %tmp.20 %tmp.18 %tmp.19;
        lputv %message.1 %tmp.21;
        symbol [ message %message.1 62 12 19 ];
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 68 8 ]
        symbol [ System %tmp.23 68 8 14 ];
        %tmp.23 = getv ? :System;
        symbol [ println %tmp.24 68 15 22 ];
        %tmp.24 = getv function %tmp.23 :println;
        %tmp.25 = "Transmitting message.";
        invoke %tmp.23 %tmp.24(%tmp.25);
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 69 8 ]
        try @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_beginTry @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_endTry @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_catch @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_finally;
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_beginTry:
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_12_72_8_start:
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 70 12 ]
        symbol [ Comms %tmp.26 70 12 17 ];
        %tmp.26 = getm $.Toybox.Communications;
        symbol [ transmit %tmp.27 70 18 26 ];
        %tmp.27 = getv function %tmp.26 :transmit;
        %tmp.28 = lgetv %message.1;
        symbol [ message %tmp.28 70 27 34 ];
        %tmp.29 = null;
        symbol [ CommsRelay %tmp.33 70 46 56 ];
        %tmp.33 = getv ? :CommsRelay;
        %tmp.34 = self;
        symbol [ method %tmp.35 70 57 63 ];
        %tmp.35 = getv function %tmp.34 :method;
        %tmp.37 = const :onTransmitComplete;
        symbol [ onTransmitComplete %tmp.37 70 65 83 const ];
        %tmp.38 = invoke %tmp.34 %tmp.35(%tmp.37);
        %tmp.30 = newc %tmp.33 (%tmp.38);
        invoke %tmp.26 %tmp.27(%tmp.28, %tmp.29, %tmp.30);
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 71 12 ]
        symbol [ System %tmp.40 71 12 18 ];
        %tmp.40 = getv ? :System;
        symbol [ println %tmp.41 71 19 26 ];
        %tmp.41 = getv function %tmp.40 :println;
        %tmp.42 = "Message transmitted.";
        invoke %tmp.40 %tmp.41(%tmp.42);
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_12_72_8_stop:
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_endTry:
        jsr @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_finally;
        goto @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_end;
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_catch:
        %tmp.43 = exception;
        push %tmp.43;
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 72 10 ]
        [ "_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_catch" "_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_72_10_74_8_end" ]
        %exception.2 = local;
        symbol [ exception %exception.2 72 16 25 ];
        %tmp.44 = dup %tmp.43;
        lputv %exception.2 %tmp.44;
        symbol [ exception %exception.2 72 16 25 ];
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_72_27_74_8_start:
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 73 12 ]
        symbol [ System %tmp.46 73 12 18 ];
        %tmp.46 = getv ? :System;
        symbol [ println %tmp.47 73 19 26 ];
        %tmp.47 = getv function %tmp.46 :println;
        %tmp.48 = "Message failed to transmit: ";
        %tmp.49 = lgetv %exception.2;
        symbol [ exception %tmp.49 73 60 69 ];
        symbol [ getErrorMessage %tmp.50 73 70 85 ];
        %tmp.50 = getv function %tmp.49 :getErrorMessage;
        %tmp.51 = invoke %tmp.49 %tmp.50();
        %tmp.52 = add %tmp.48 %tmp.51;
        invoke %tmp.46 %tmp.47(%tmp.52);
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_72_27_74_8_stop:
        jsr @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_finally;
        pop;
        goto @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_end;
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_72_10_74_8_end:
        try @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_catch @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_72_10_74_8_end @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_72_10_74_8_end @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_finally;
        jsr @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_finally;
        throw %tmp.43;
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_finally:
        jsrret;
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_69_8_74_8_end:
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_39_37_75_4_stop:
    }
    [ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 78; @symbol_functiondef = [onTransmitComplete,78,13,31]; @symbol_param<0> = [isSuccess,78,32,41]; ]
    function onTransmitComplete(isSuccess) as Void {
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_78_51_86_4_start:
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 79 8 ]
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_79_8_85_8_if_stmt:
        %tmp.1 = lgetv %isSuccess;
        symbol [ isSuccess %tmp.1 79 12 21 ];
        bf %tmp.1 @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_79_8_85_8_if_else_false;
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_79_8_85_8_if_true:
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_79_23_82_8_start:
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 80 12 ]
        symbol [ System %tmp.3 80 12 18 ];
        %tmp.3 = getv ? :System;
        symbol [ println %tmp.4 80 19 26 ];
        %tmp.4 = getv function %tmp.3 :println;
        %tmp.5 = "Message sent successfully.";
        invoke %tmp.3 %tmp.4(%tmp.5);
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 81 12 ]
        symbol [ progressBar %tmp.7 81 12 23 ];
        %tmp.7 = getv ? :progressBar;
        symbol [ setDisplayString %tmp.8 81 24 40 ];
        %tmp.8 = getv function %tmp.7 :setDisplayString;
        %tmp.9 = "Success.";
        invoke %tmp.7 %tmp.8(%tmp.9);
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_79_23_82_8_stop:
        goto @_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_79_8_85_8_if_end;
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_79_8_85_8_if_else_false:
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_82_15_85_8_start:
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 83 12 ]
        symbol [ System %tmp.11 83 12 18 ];
        %tmp.11 = getv ? :System;
        symbol [ println %tmp.12 83 19 26 ];
        %tmp.12 = getv function %tmp.11 :println;
        %tmp.13 = "Message failed to send.";
        invoke %tmp.11 %tmp.12(%tmp.13);
[ "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc" 84 12 ]
        symbol [ progressBar %tmp.15 84 12 23 ];
        %tmp.15 = getv ? :progressBar;
        symbol [ setDisplayString %tmp.16 84 24 40 ];
        %tmp.16 = getv function %tmp.15 :setDisplayString;
        %tmp.17 = "Failure.";
        invoke %tmp.15 %tmp.16(%tmp.17);
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_82_15_85_8_stop:
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_79_8_85_8_if_end:
_Users_ilie_Desktop_Dev_garmin_reticcc_source_commsApp_mc_78_51_86_4_stop:
    }
}
[ @file = "/Users/ilie/Desktop/Dev/garmin/reticcc/source/commsApp.mc"; @line = 1; ]
<init> {
}
